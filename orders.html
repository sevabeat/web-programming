
<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="js/page-load-speed.js"></script>
    <meta charset="UTF-8">
    <title>Интернет магазин автомобилей</title>
    <meta name="description" content="Продаем автомобили с 1993 года">
    <meta name="keywords" content="Машины, Автосалон, Интернет-магазин">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="css/orders.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css" integrity="sha512-O03ntXoVqaGUTAeAmvQ2YSzkCvclZEcPQu1eqloPaHfJ5RuNGiS4l+3duaidD801P50J28EHyonCV06CUlTSag==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<header class="header">
    <div class="container header__wrapper">
        <div class="header__logo">
            <span class="header__logo-text">VehicleOnline</span>
        </div>
        <nav class="header__nav">
            <ul class="header__nav-links">
                <li class="header__nav-link-wrapper">
                    <a class="link link_header header__nav-link" href="/Web-programming/">Главная</a>
                </li>
                <li class="header__nav-link-wrapper">
                    <a class="link link_header header__nav-link" href="/Web-programming/catalog.html">Каталог</a>
                </li>
            </ul>
        </nav>
        <div class="header__profile">
            <a class="link link_header header__profile-orders" href="/Web-programming/orders.html">Мои заказы</a>
        </div>
    </div>
</header>

<main class="main">
    <div class="container">
        <ul class="orders">
        </ul>
    </div>
</main>
<footer class="footer">
    <div class="container footer__wrapper">
        <span class="footer__details footer__company-info">
            Roga and kopita LLC
        </span>
        <span class="footer__details footer__student-info">
            Page loaded in <span id="LoadTime"></span>
        </span>
    </div>
    <script src="js/Order.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
           const orders = JSON.parse(localStorage.getItem('orders'));
           console.log(orders);

           orders.reverse().forEach((order) => {
               const elementHtml = `
               <div class="orders__order-image-holder">
                    <div class="orders__order-image" style="background-image: url('${order.car.images[order.color]}')"></div>
                </div>
                <div class="orders__order-desc">
                    <span class="orders__order-name">${order.car.name}</span>
                    <span class="orders__order-address">Адрес: ${order.address}</span>
                    <span class="orders__order-payment">${order.paymentType === Order.PAYMENT_TYPE_CASH ? 'Оплата наличными' : 'Оплата банковской картой'}</span>
                    <span class="orders__order-date">Доставим 03.12 в 21:00</span>
                </div>`;

               const orderElement = document.createElement('li');
               orderElement.classList.add('orders__order');
               orderElement.innerHTML = elementHtml;

               document.querySelector('.orders').appendChild(orderElement);
           });
        });
    </script>
</footer>
</body>
</html>
